<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scratch</title>
    <script>
    window.onload = function(){document.getElementById("length").focus()};
    </script>
    
</head>
<body>
    <input type="number" id="length" value="1">
    <button id="try" onclick="generate()">Try</button>
    <button id="try" onclick="generate2()">Try2</button>
    <button id="try" onclick="generate3()">Try3</button>
    <button id="try" onclick="generatef()">Try4</button>
    <button id="try" onclick="chkpwl()">Try5</button>
    <div id="display"></div>
    <div class = "criteria">
        <label for="lowcase">Lowercase</label>
        <input type="checkbox" id="lowcase" name="checkbox"><br>
        <label for="upcase">Uppercase</label>
        <input type="checkbox" id="upcase" name="checkbox"><br>
        <label for="numeric">Numeric</label>
        <input type="checkbox" id="numeric" name="checkbox"><br>
        <label for="symbols">Symbols</label>
        <input type="checkbox" id="symbols" name="checkbox"><br>
        </div>
    <div id="result"></div>
    
</body>

<script>
       
    
    const pwl = document.getElementById("length");
    const lowcase = "abcdefghijklmnopqrstuvwxyz";
    const upcase= "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    const numeric = "0123456789";
    const symbols = "!#$%&()*+,-./:;<=>?@[\]^_`{|}~";
    const nlowcase = Array.from(lowcase);
    const nupcase = Array.from(upcase);
    const nnumeric = Array.from(numeric);
    const nsymbols = Array.from(symbols);

function generate(){

var result = "";
let pwlength = +pwl.value;
for (var i = 0; i<pwlength; i++){
result = result + lowcase.charAt(Math.floor(Math.random()*Math.floor(lowcase.length)))
}
console.log(lowcase, result);
document.getElementById("result").innerHTML += result + "</br>";

}

function generate2(){
var arr2 = lowcase.concat(upcase);
var result = "";
let pwlength = +pwl.value;
for (var i = 0; i<pwlength; i++){
result = result + arr2.charAt(Math.floor(Math.random()*Math.floor(arr2.length)))
}
document.getElementById("result").innerHTML += result + "</br>";

}    
function generate3(){
    var arr = new Array();
    arr[0] = Array.from(lowcase);
    arr[1] = Array.from(upcase);
    arr[2] = Array.from(numeric);
    arr[3] = Array.from(symbols);



var g3 = "";
let pwlength = +pwl.value;

for(var i = 0; i<pwlength; i++){
    var j = Math.floor(Math.random()*Math.floor(3));
    console.log(j);
    console.log(arr[j], arr[j].length);
    var k = Math.floor(Math.random()*Math.floor(arr[j].length));
    console.log(k);

    g3 = g3 + arr[j][k];
    document.getElementById("result").innerHTML += g3 + "</br>";
    console.log(g3);
}

}

function x(){
chkpwl();
generatef();
}


function chkpwl(){
    if(pwl.value == "" || pwl.value < 8 || pwl.value > 128){
        document.getElementById("result").innerHTML = "Please enter number between 8 and 128";return;
    }else{
        document.getElementById("result").innerHTML = "";
        generatef();

    }
}



function generatef(){
   
    const pwl = document.getElementById("length");
    const cblowcase = document.getElementById("lowcase");
    const cbupcase = document.getElementById("upcase");
    const cbnumeric = document.getElementById("numeric");
    const cbsymbols = document.getElementById("symbols");
    
    var result = "";
    let pwlength = +pwl.value;

    if (cblowcase.checked == true){
        arr1 = lowcase;
    } else {
        arr1 = "";
    }

    if (cbupcase.checked == true){
        arr2 = upcase;
    } else {
        arr2 = "";
    }
    if (cbnumeric.checked == true){
        arr3 = numeric;
    } else {
        arr3 = "";
    }
    if (cbsymbols.checked == true){
        arr4 = symbols;
    } else {
        arr4 = "";
    }
    console.log(arr1,arr2,arr3,arr4)
    f = arr1 + arr2 + arr3 + arr4;
    console.log(f.length);
    if(f.length == 0){
        document.getElementById("result").innerHTML = "select criteria";
        document.getElementById("result").style.color = "red";
        return;
    }else{
        for (var i = 0; i<pwlength; i++){
result = result + f.charAt(Math.floor(Math.random()*Math.floor(f.length)))
}
console.log(f, result, result.length);
document.getElementById("result").innerHTML = result + "</br>";
    }


}


</script>
</html>